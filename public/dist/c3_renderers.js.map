{"version":3,"sources":["c3_renderers.coffee"],"names":[],"mappings":"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","file":"c3_renderers.js","sourceRoot":"/source/","sourcesContent":["callWithJQuery = (pivotModule) ->\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\n        pivotModule require(\"jquery\")\n    else if typeof define is \"function\" and define.amd # AMD\n        define [\"jquery\"], pivotModule\n    # Plain browser env\n    else\n        pivotModule jQuery\n        \ncallWithJQuery ($) ->\n\n    makeC3Chart = (chartType) -> (pivotData, opts) ->\n        defaults =\n            localeStrings:\n                vs: \"vs\"\n                by: \"by\"\n\n        opts = $.extend defaults, opts\n\n        rowKeys = pivotData.getRowKeys()\n        rowKeys.push [] if rowKeys.length == 0\n        colKeys = pivotData.getColKeys()\n        colKeys.push [] if colKeys.length == 0\n\n        headers = (h.join(\"-\") for h in colKeys)\n\n        columns = []\n        for rowKey in rowKeys\n            rowHeader = rowKey.join(\"-\")\n            row = [if rowHeader == \"\" then pivotData.aggregatorName else rowHeader]\n            for colKey in colKeys\n                agg = pivotData.getAggregator(rowKey, colKey)\n                if agg.value()?\n                    row.push agg.value()\n                else row.push null\n            columns.push row\n\n        result = $(\"<div>\")\n        params = \n            bindto: result[0]\n            size:\n                height: ($(window).height() / 1.4),\n                width: ($(window).width() / 1.4)\n            axis: x: \n                type: 'category',\n                categories: headers\n            data: \n                columns: columns\n        if chartType?\n            params.data.type = chartType\n        c3.generate params\n        return result\n\n    $.pivotUtilities.c3_renderers = \n        \"Line Chart C3\": makeC3Chart()\n        \"Bar Chart C3\": makeC3Chart(\"bar\")\n"]}